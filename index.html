<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Hospital Management System</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <link rel="stylesheet" href="css/style.css">

</head>

<body>

<!-- LOGIN -->
<div id="loginPage">
  <h2>Login Admin</h2>
  <input id="username" class="form-control mb-2" placeholder="admin">
  <input id="password" type="password" class="form-control mb-2" placeholder="admin">
  <button class="btn btn-primary" onclick="login()">Login</button>
  <p id="loginError" class="text-danger"></p>
</div>

<!-- APP -->
<div id="appPage" class="d-none">

  <!-- SIDEBAR -->
  <div class="sidebar">
    <h1>Hospital Management</h1>
    <button id="btn-dashboard" onclick="show('dashboard')">ğŸ“Š Dashboard</button>
    <button id="btn-patients" onclick="show('patients')">ğŸ‘¤ Patients</button>
    <button id="btn-doctors" onclick="show('doctors')">ğŸ‘¨â€âš•ï¸ MÃ©decins</button>
    <button id="btn-appointments" onclick="show('appointments')">ğŸ“… Rendez-vous</button>
    <button id="btn-prescriptions" onclick="show('prescriptions')">ğŸ’Š Prescriptions</button>
    <button id="btn-services" onclick="show('services')">ğŸ¥ Services</button>
  </div>

  <!-- MAIN CONTENT -->
  <div class="main">

  <!-- ================= DASHBOARD ================= -->
  <div id="dashboard" class="section">

    <!-- KPI -->
    <div class="row mb-4 g-3">
      <div class="col-md-2">
        <div class="card border-primary">
          <div class="card-body text-center">
            <h6>Patients</h6>
            <h3 id="statPatients">0</h3>
          </div>
        </div>
      </div>

      <div class="col-md-2">
        <div class="card border-success">
          <div class="card-body text-center">
            <h6>MÃ©decins</h6>
            <h3 id="statDoctors">0</h3>
          </div>
        </div>
      </div>

      <div class="col-md-2">
        <div class="card border-warning">
          <div class="card-body text-center">
            <h6>Rendez-vous</h6>
            <h3 id="statAppointments">0</h3>
          </div>
        </div>
      </div>

      <div class="col-md-2">
        <div class="card border-info">
          <div class="card-body text-center">
            <h6>Prescriptions</h6>
            <h3 id="statPrescriptions">0</h3>
          </div>
        </div>
      </div>

      <div class="col-md-2">
        <div class="card border-dark">
          <div class="card-body text-center">
            <h6>Services</h6>
            <h3 id="statServices">0</h3>
          </div>
        </div>
      </div>
    </div>

    <!-- CHARTS -->
    <div class="charts-grid">
      <div class="chart-card">
        <h6>Patients par service</h6>
        <canvas id="patientsByService"></canvas>
      </div>

      <div class="chart-card">
        <h6>MÃ©decins par spÃ©cialitÃ©</h6>
        <canvas id="doctorsBySpecialty"></canvas>
      </div>

      <div class="chart-card">
        <h6>Rendez-vous par date</h6>
        <canvas id="appointmentsByDay"></canvas>
      </div>

      <div class="chart-card">
        <h6>Rendez-vous par mÃ©decin</h6>
        <canvas id="appointmentsByDoctor"></canvas>
      </div>

      <div class="chart-card full">
        <h6>RÃ©partition des Ã¢ges</h6>
        <canvas id="ageDistribution"></canvas>
      </div>
    </div>

  </div>
  <!-- ================= FIN DASHBOARD ================= -->

  <!-- ================= PATIENTS ================= -->
  <div id="patients" class="section d-none">
    <h3>Patients</h3>
    <form onsubmit="savePatient(event)">
      <input type="hidden" id="patientId">
      <input id="pName" class="form-control mb-2" placeholder="Nom">
      <input id="pAge" type="number" class="form-control mb-2" placeholder="Ã‚ge">
      <input id="pService" class="form-control mb-2" placeholder="Service">
      <button class="btn btn-success">Save</button>
    </form>
    <table class="table mt-3">
      <tbody id="patientsTable"></tbody>
    </table>
  </div>

  <!-- ================= DOCTORS ================= -->
  <div id="doctors" class="section d-none">
    <h3>MÃ©decins</h3>
    <form onsubmit="saveDoctor(event)">
      <input type="hidden" id="doctorId">
      <input id="dName" class="form-control mb-2" placeholder="Nom">
      <input id="dSpec" class="form-control mb-2" placeholder="SpÃ©cialitÃ©">
      <button class="btn btn-success">Save</button>
    </form>
    <table class="table mt-3">
      <tbody id="doctorsTable"></tbody>
    </table>
  </div>

  <!-- ================= APPOINTMENTS ================= -->
  <div id="appointments" class="section d-none">
    <h3>Rendez-vous</h3>
    <form onsubmit="saveAppointment(event)">
      <input type="hidden" id="appointmentId">
      <select id="aPatient" class="form-control mb-2"></select>
      <select id="aDoctor" class="form-control mb-2"></select>
      <input id="aDate" type="date" class="form-control mb-2">
      <button class="btn btn-success">Save</button>
    </form>
    <table class="table mt-3">
      <tbody id="appointmentsTable"></tbody>
    </table>
  </div>

  <!-- ================= PRESCRIPTIONS ================= -->
  <div id="prescriptions" class="section d-none">
    <h3>Prescriptions</h3>
    <form onsubmit="savePrescription(event)">
      <input type="hidden" id="prescriptionId">
      <select id="prPatient" class="form-control mb-2"></select>
      <select id="prDoctor" class="form-control mb-2"></select>
      <input id="prMeds" class="form-control mb-2" placeholder="MÃ©dicaments">
      <input id="prDate" type="date" class="form-control mb-2">
      <button class="btn btn-success">Save</button>
    </form>
    <table class="table mt-3">
      <tbody id="prescriptionsTable"></tbody>
    </table>
  </div>

  <!-- ================= SERVICES ================= -->
  <div id="services" class="section d-none">
    <h3>Services</h3>
    <form onsubmit="saveService(event)">
      <input type="hidden" id="serviceId">
      <input id="sName" class="form-control mb-2" placeholder="Nom du service">
      <input id="sBeds" type="number" class="form-control mb-2" placeholder="Lits">
      <button class="btn btn-success">Save</button>
    </form>
    <table class="table mt-3">
      <tbody id="servicesTable"></tbody>
    </table>
  </div>

</div>

<script src="js/app.js"></script>
<script src="js/ui.js"></script>

</body>
</html>
